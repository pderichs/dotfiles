;; ----------------------------------------------------------------------------------------------------
;; Custom banner image
;; ----------------------------------------------------------------------------------------------------

;; Customize banner (thanks to https://discourse.doomemacs.org/t/how-to-change-your-splash-screen/57)
;; Thanks to https://github.com/TheZoraiz/ascii-image-converter
(defun my-weebery-is-always-greater ()
  (let* ((banner '(
                   "======+++=---=++%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%#=:....   :******++++++======="
                   "=======+=:.::--+%@@@@@@@@@@@@@@@@@@@@@@@%*===**#%%#+:.      .-#****++++++====---"
                   "=======-...:----*@@@@%+---=+%@@@@@@@@@@@+:=++=+=+##+-.      .:+#***+++++=====---"
                   "========...:...:+%%%*+**#*++%@@@@@@@@@@@@@@@*+#%%##*+-.      :-=#***+++=====----"
                   "========: .    .-*##*@@@@@@@@@@@@@@@@@@@@@%+==--*%%#*+:      .-:***++++=====----"
                   "=======-:       :=+#%@%#*#@@@@@@@@@@%%%@%*:.:....:=*#*-.   .  .:=+++++======----"
                   "======--:       .-=%@#==---+#%%#####***+=.       ...-+*:...    .-=+++========---"
                   "=------::.      .=*@+::.....:=====+*=-:.... .:--:..::+%*:. .. ..:-=+=========---"
                   "------:::.       -#=...       ...:=*+:. .   ..::::-=+#%@*. .:  .::-+========----"
                   "------:::.       -=.......       .+#%*-.         -+*#%%%*: .-. .:..-=====-------"
                   "--------::       =#-.....       .=*%@%#*+=-.... :+####*=-: ::. .  ..:===--------"
                   "-----==-:.     . +%*-::.     .:-++*@@@%**#%+:..-*##**+=-:: .:.       -=---------"
                   "----=*+-.:.    ..=*##*+=-.  .+**++*%%%%#**#%#-:+%#*+==-:::...     .  .----------"
                   "---=+=--=-..    ..-=+*****+-+##*+++***+==+++##=+**+==--:-:        .  :------::::"
                   "--===--=-:...    ..::-=++*#**#*+-:--=-::...=**##**+==-::--       .. .----:::::::"
                   "-------=-:...    .....:---==**++.         .=##***++==:::-:       .  :----:::::::"
                   "-------:::..       ........-++**-.       :=*###*++=-..---:       ...::::::::::::"
                   "---::--::. .        .:...  :=+***+-:... .--===-:... :===-.       .::::::::::::::"
                   "---::::-::.          .:::::  .:---:..              .----:         .:::::::::::::"
                   ":--::::::::.          .:--=:                   .  ..-=-:           ..:::::::::.."
                   ":--::::::--:           .-==-.                  .:--:-=:            ..::::::::.::"
                   "::::::----:.   .        .:=-.::.           ..:-=++=--:             .:::::::...::"
                   ":::::----:..              .-::--:::::--=++**###*+=:..              .::::::...:::"
                   ":::::::::...                ..:===***#*####**+++=:.           ... ...:::::::::::"
                   ":::::::::....                 ..:--==--==--:::::.               .....:::::::::::"
                   ":::::::::.::       .::.           ......... ..                   ........:::::::"
                   ":::::::::::::.      ..                ...                     .........::::..:::"
                   ":::::::::::::::.         .                                  ..........:::-::::::"
                   ))
         (longest-line (apply #'max (mapcar #'length banner))))
    (put-text-property
     (point)
     (dolist (line banner (point))
       (insert (+doom-dashboard--center
                +doom-dashboard--width
                (concat line (make-string (max 0 (- longest-line (length line))) 32)))
               "\n"))
     'face 'doom-dashboard-banner)))
(setq +doom-dashboard-ascii-banner-fn #'my-weebery-is-always-greater)

;; Display a fortune message in emacs startup screen
(when (executable-find "fortune")
  (add-hook! '+doom-dashboard-functions :append
    (insert "\n" (+doom-dashboard--center +doom-dashboard--width (shell-command-to-string "fortune -a")))))
